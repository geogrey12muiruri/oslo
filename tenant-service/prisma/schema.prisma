datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Institution {
  id                 String    @id @default(uuid())
  name               String
  domain             String
  logoUrl            String?
  address            String?
  city               String?
  country            String?
  phone              String?
  email              String?
  type               InstitutionType
  accreditationNumber String?
  establishedYear    Int?
  timezone           String?
  currency           String?
  status             InstitutionStatus
  createdBy          String
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt
  users              User[]
}

model User {
  id                 String    @id @default(uuid())
  email              String    @unique
  institutionId      String
  role               UserRole
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt
  institution        Institution @relation(fields: [institutionId], references: [id])
}

enum UserRole {
  STUDENT
  LECTURER
  HOD
  ADMIN
  REGISTRAR
  STAFF
  SUPER_ADMIN
}

enum InstitutionType {
  PUBLIC
  PRIVATE
}

enum InstitutionStatus {
  ACTIVE
  INACTIVE
}